<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Recipe Search</title>
	<style>
		.recipe-card {
			border: 1px solid #ccc;
			border-radius: 5px;
			padding: 10px;
			margin-bottom: 20px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		}
		.recipe-title {
			font-size: 20px;
			font-weight: bold;
			margin-bottom: 10px;
		}
		.recipe-image {
			width: 100%;
			max-width: 300px;
			height: auto;
			margin-bottom: 10px;
		}
		.recipe-details {
			font-size: 16px;
		}
	</style>
</head>
<body>
	<h1>Recipe Search</h1>
	<form action="https://api.spoonacular.com/recipes/complexSearch" method="get">
		<label for="diet">Select Diet:</label>
		<select id="diet" name="diet">
			<option value="">None</option>
			<option value="vegetarian">Vegetarian</option>
			<option value="vegan">Vegan</option>
			<option value="paleo">Paleo</option>
			<option value="keto">Keto</option>
			<option value="glutenFree">Gluten free</option>
			<option value="lactoVegetarian">Lacto-Vegetarian</option>
			<option value="ovoVegetarian">Ovo-Vegetarian</option>
			<option value="pescetarian">Pescetarian</option>
			<option value="primal">Primal</option>
			<option value="lowFodmap">Low FODMAP</option>
			<option value="whole30">Whole30</option>
		</select><br><br>

		<label for="cuisine">Select Cuisine:</label>
		<select id="cuisine" name="cuisine">
			<option value="">Any</option>
			<option value="african">African</option>
			<option value="chinese">Chinese</option>
			<option value="french">French</option>
			<option value="indian">Indian</option>
			<option value="italian">Italian</option>
			<option value="japanese">Japanese</option>
			<option value="mediterranean">Mediterranean</option>
			<option value="mexican">Mexican</option>
			<option value="spanish">Spanish</option>
			<option value="thai">Thai</option>
			<option value="vietnamese">Vietnamese</option>
		</select><br><br>

		<label for="intolerance">Select Intolerance:</label>
		<select id="intolerance" name="intolerance">
			<option value="">None</option>
			<option value="dairy">Dairy</option>
			<option value="egg">Egg</option>
			<option value="gluten">Gluten</option>
			<option value="grain">Grain</option>
			<option value="peanut">Peanut</option>
			<option value="seafood">Seafood</option>
			<option value="sesame">Sesame</option>
			<option value="shellfish">Shellfish</option>
			<option value="soy">Soy</option>
			<option value="sulfite">Sulfite</option>
			<option value="tree nut">Tree Nut</option>
			<option value="wheat">Wheat</option>
		</select><br><br>

		<label for="query">Search for:</label>
		<input type="text" id="query" name="query"><br><br>

		<input type="submit" value="Search">
		<input type="hidden" name="apiKey" value="568e8dd7bb494bae980d7a87b9979867">
	</form>
	<div id="recipeResults"></div>

	<script>
		function displayRecipes(recipes) {
			var recipeResultsDiv = document.getElementById("recipeResults");
			recipeResultsDiv.innerHTML = "";

			recipes.forEach(function (recipe) {
				var recipeCard = document.createElement("div");
				recipeCard.classList.add("recipe-card");

				var title = document.createElement("h2");
				title.classList.add("recipe-title");
				title.textContent = recipe.title;

				var image = document.createElement("img");
				image.classList.add("recipe-image");
				image.src = recipe.image;

				var details = document.createElement("p");
				details.classList.add("recipe-details");
				details.innerHTML = "<strong>Ready In:</strong> " + recipe.readyInMinutes + " minutes<br>" +
					"<strong>Servings:</strong> " + recipe.servings + "<br>" +
					"<strong>Source:</strong> <a href='" + recipe.sourceUrl + "' target='_blank'>" + recipe.sourceName + "</a>";

				recipeCard.appendChild(title);
				recipeCard.appendChild(image);
				recipeCard.appendChild(details);

				recipeResultsDiv.appendChild(recipeCard);
			});
		}
	</script>
	<script>
		const form = document.querySelector('form');
		form.addEventListener('submit', async function (event) {
			event.preventDefault();
			const formData = new FormData(form);
			const urlSearchParams = new URLSearchParams(formData);
			const response = await fetch(`https://api.spoonacular.com/recipes/complexSearch?${urlSearchParams}&apiKey=568e8dd7bb494bae980d7a87b9979867`);
			const data = await response.json();
			displayRecipes(data.results);
		});
	</script>
</body>
</html>
